{% extends "base.html" %}

{% block extraJS %}
{% include "moa.js" %}
{% endblock %}


{% block tabs %}
<ul> 
  {% if jobDescription %}
  <li><a href="#jobDescription">Description</a></li> 
  {% endif %}
  <li><a href="#fileBrowser">File browser</a></li> 
  <li><a href="#templateInfoTab">Template info</a></li> 
  <!--<li><a href="#parameterTab">Parameters</a></li>-->
</ul> 

{% if jobDescription %}
<div id='jobDescription'>    
  {{ jobDescription }}
</div>
{% endif %}
<div id='fileBrowser' class='fileList'> 
</div>
<div id='templateInfoTab'>
  <a href='#' class='jqmClose'>Close</a>
  <h3>Template {{ allinfo.template_title }} ({{ allinfo.moa_id }})</h3>
  <i>{{allinfo.template_description}}</i>
  <h4>Parameters</h4>
  <ul>
    {% for k in parameterKeys %}
    <li>
      <b>{{k}}</b>: {{ allinfo.parameters[k].help  }}
    </li>
    {% endfor %}
  </ul>
  <h4>Author</h4>
  {{ allinfo.template_author }}
</div>
<div id="parameterTab" style="display:none">
  <h3>Parameters</h3>
  <table id='moaParameters'>
    <thead>
      <th>Name</th>
      <th>Type</th>
      <th>Value</th>
    </thead>
    <tbody>
    {% for k in parameterKeys %}
    {% set value = allinfo.parameters[k].value %}
    {% set dtype = allinfo.parameters[k].type %}
    <tr>
      <td> {{ k }} </td>
      <td>
        {{ allinfo.parameters[k].type }}
      </td>
      <td>
        {% if value  %}
        <b>
          {{ allinfo.parameters[k].value }}
        </b>
        {% else %}
        <i>undefined</i>
        {% endif %}
        </b>
      </td>
    </tr>
    {% endfor %}
   </tbody>
  </table>
</div>
{% endblock %}

{% block moaMenu %}
<div class="moaMenu">
<ul id="jsddm"> 
  <li><a><img src="/moa/html/images/pen-16.gif"></a>
    <ul>
      <li><a href='#' onclick="moaLock()">Lock</a></li>
      <li><a href='#' onclick="moaUnlock()">Unlock</a></li>
    </ul>
  </li>
  {% include "menu.moa.html" %}
</ul>
</div>
{% endblock %}

{% block moaTemplate %}
<span class="moaTemplate">{{allinfo.moa_id }}
</span>
{% endblock %}

{% block moaTitle %}
<span class="moaTitle"ondblclick="editTitle();" id="title">
  {{ jobTitle }}
</span>
{% endblock %}
