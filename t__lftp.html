<html>
  <head>
	<title>Moa</title>
  </head>
  <link rel="stylesheet" href="moa.css">
  <body>
	<div id="menu">
	  <center>
		<a href="index.html">
		  <img id="menulogo" align="middle" src="moa_logo_smaller.png">
		</a>
	  </center>
	  <ul>
		<li>
		  <a href="introduction.html">Introduction</a>
		</li>
		<li>
		  <a href="installation.html">Installation</a>
		</li>
		<li>
		  <a href="using.html">Usage</a>
		</li>
		<li>
		  <a href="gbrowse.html">Gbrowse</a>
		</li>
		<li>
		  <a name="chapter_couchdb" href="couchdb.html">Couchdb</a>
		</li>
		<li>
		  <a href="extending.html">Extend Moa</a>
		</li>
		<li>
		  <a href="reference.html">Reference</a>
		</li>
	  </ul>
	  <small>
		<a href="manual.pdf">
		  download this manual in pdf format
		</a>
	  </small> 
   </div>
<div id="content">
<h1 id="chapterTitle">lftp.mk</h1>
<p
>Use LFTP to download files. This template has two modi, one is set 'lftp_mode' to 'mirror' data, in which case both 'lftp_url' and 'lftp_pattern' (default *) are used. The other modus is 'lftp_mode=get', when one file defined by 'lftp_url' is downloaded. In the mirror mode it is possible to download only those files that are newer as the files already downloaded by using the 'lftp_timestamp' parameter</p
><div id="targets"
><h1
  >Targets</h1
  ><dl
  ><dt
    >(empty)</dt
    ><dd
    >Leaving the target unspecified executes the default target(s): (lftp)</dd
    ><dt
    >clean</dt
    ><dd
    >removes all results from this job</dd
    ><dt
    >all</dt
    ><dd
    >executes the default target and into subdirectories to execute any other moa makefile it encounters</dd
    ><dt
    >lftp</dt
    ><dd
    >execute the download</dd
    ></dl
  ></div
><div id="parameters"
><h1
  >Parameters</h1
  ><div id="required-parameters"
  ><h2
    >Required parameters</h2
    ><dl
    ><dt
      >lftp_url</dt
      ><dd
      >The base url to download from</dd
      ></dl
    ></div
  ><div id="optional-parameters"
  ><h2
    >Optional parameters</h2
    ><dl
    ><dt
      >lftp_timestamp</dt
      ><dd
      >Depend on lftp to decide if a file needs updating, else a touchfile is created that you need to delete or touch before updating (T/<em
	>F</em
	>)</dd
      ><dt
      >lftp_powerclean</dt
      ><dd
      >Do brute force cleaning (T/F). Remove all files, except moa.mk &amp; Makefile when calling make clean. Defaults to F.</dd
      ><dt
      >lftp_noclean</dt
      ><dd
      >set of files not to be deleted by the powerclean</dd
      ><dt
      >lftp_pattern</dt
      ><dd
      >glob pattern to download</dd
      ><dt
      >lftp_user</dt
      ><dd
      >username for the remote site</dd
      ><dt
      >lftp_pass</dt
      ><dd
      >password for the remote site, note that this can be defined on the commandline using: 'make lftp_pass=PASSWORD'</dd
      ><dt
      >lftp_output_dir</dt
      ><dd
      >subdir to create &amp; write all output to. If not defined, data will be downloaded to directory containing the Makefile</dd
      ><dt
      >lftp_dos2unix</dt
      ><dd
      >(T/F) Run dos2unix to prevent problems with possible dos text files (default=F).</dd
      ><dt
      >lftp_mode</dt
      ><dd
      >Mode of operation - 'mirror' or 'get'. Mirror enables timestamping. Get just gets a single file. If using get, consider setting depend_lftp_timestamp to F. When using 'get', the full url should be in lftp_url. lftp_pattern is ignored. Defaults to mirror.</dd
      ><dt
      >jid</dt
      ><dd
      >Unique identifier for this job. Jids are autogenerated if undefined. A descriptive jid is important, particularly if you are using couchdb.</dd
      ><dt
      >project</dt
      ><dd
      >A project name; group your analyses.</dd
      ></dl
    ></div
  ></div
>
</div></body></html>
