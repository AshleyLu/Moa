#!/usr/bin/env python

import os
import yaml
import moa.utils
import moa.template

from jinja2 import Template as jTemplate

jTemplateFile = os.path.join(moa.utils.getMoaBase(), 'lib', 'jinja2', 'template.rst.jinja2')
jT = jTemplate(open(jTemplateFile).read())

os.chdir(os.path.join(moa.utils.getMoaBase(), 'sphinx', 'templates'))
         
for tfile, tname in moa.template.listAll():
    template = moa.template.Template(tname)
            
    print template.name
    with open('%s.rst' % tname, 'w') as F:
        F.write(jT.render(template))
        
        
        
