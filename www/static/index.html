<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>

<title>WWWMoa 0.1</title>

<link rel="stylesheet" type="text/css" href="/styles/normal">
<link rel="stylesheet" type="text/css" href="/styles/normal-buttons">
<link rel="shortcut icon" href="/images/MOAfavA">

<script src="/scripts/dojo" type="text/javascript"></script>
<script src="/scripts/wwwmoa" type="text/javascript"></script>
<script src="/scripts/wwwmoaui" type="text/javascript"></script>

</head>

<body>

<div id="wrapper">

<div class="title">

<a href="/about" target="_blank"><img src="/images/MOAicos1A" alt=""> WWWMoa 0.1</a>

</div>




<noscript>

<div class="section">

<span class="title">JavaScript Interpreter Required</span><br>

Your browser does not seem to have JavaScript support.  Unfortunatly, since this web application is highly interactive, it requires that your browser support JavaScript.

<br><br>

However, do not panic!  There are several ways that you can remedy this problem:

<div style="padding-left:40px">

&bull; You might be able to enable JavaScript on your browser.  Sometimes, you (or someone with access to your computer) may have turned off JavaScript support for various reasons.  Enabling in this case is usually quite simple.  If you use Firefox, <a href="http://support.mozilla.com/en-US/kb/JavaScript">click here for detailed instructions</a>. If you use MS Internet Explorer, <a href="http://support.microsoft.com/gp/howtoscript">click here for detailed instructions</a>.<br>

&bull; You can install a browser that supports JavaScript.  We recommend using a browser called <a href="/go/firefox">Firefox</a>.

</div>

</div>

</noscript>





<div id="jma-jsprotect" style="visibility:hidden">










<script type="text/javascript">
<!--

var jma_state=new Object();
jma_state.currentID=0;
jma_state.getNextId=function()
{
    this.currentID++;
    return "jma-unq-"+this.currentID;
}

wwwmoa.hm.create(wwwmoa.rl.get_hm("fsbrowser"), {location : ""}, function(obj){

    if(obj===null)
    {
        document.getElementById("jma-fsbrowser").innerHTML="Something went wrong: the directory browser you requested could not be supplied.";
        return;
    }

    obj.setVisualElementById("jma-fsbrowser");

    obj.addPropertyCallback("in-moa-directory", function(prop, value)
                                                {
                                                    triggerMoaDirectory(value);
                                                });

    jma_state.fsbrowser=obj;
});


function triggerMoaDirectory(inmoa)
{
    if(inmoa)
    {
        var project_info_vid=jma_state.getNextId();

        document.getElementById("jma-main").innerHTML="<div class=\"section\"><span class=\"title\">You are currently in a Moa directory.</span><br>There are a number of tasks you can now do.  These tasks include:<br><br><a class=\"button\" href=\"#jma-ahook\" onclick=\"runCurrentDirectory();\">Run Pipeline</a><br><br></div><div class=\"section\"><span class=\"title\">Project Information</span><br><div id=\""+ wwwmoa.html.fix_text(project_info_vid) + "\">Loading project info...</div></div>";

        if(jma_state.currentp!==undefined)
            jma_state.currentp.cancel();

        jma_state.currentp=null;

        jma_state.currentp=wwwmoa.ajax.get(wwwmoa.rl.get_api("project-info", jma_state.fsbrowser.getProperty("directory")),function(txt) {

                                var ele=document.getElementById(project_info_vid);

                                if(ele==null)
				    return;

                                var project_info=wwwmoa.json.parse(txt);

                                ele.innerHTML="";

                                ele.innerHTML+="Project Title: "
				if(project_info.title!="")
				    ele.innerHTML+=wwwmoa.html.fix_text(project_info.title);
                                else
                                    ele.innerHTML+="<span style=\"font-style:italic\">Untitled</span>";
                            }, 8192);
    }
    else
        document.getElementById("jma-main").innerHTML="<div class=\"section\">Please select a Moa directory.</div>";
}


//-->
</script>



<br>
<a href="javascript:wwwmoa.ui.alert('Help does not currently exist.')" class="button">Help</a>
<a href="#jma-ahook" class="button" onclick="window.location.reload(false);">Restart</a><br><br>



<div style="border:1px solid #808080; padding:5px; width:98%; margin-bottom:40px">

<table>

<tr>

<td id="jma-fsbrowser" style="vertical-align:top; font-weight:bold; padding-left:12px">

<div style="font-weight:bold; text-align:center">
Loading...
</div>

</td>

<td id="jma-main" style="border-left:3px solid #606060; vertical-align:top; font-weight:bold; padding-left:12px">

<div style="font-weight:bold; text-align:center">
Loading...
</div>

</td>

</tr>

</table>

</div>








</div>




<script type="text/javascript">
<!--
document.getElementById("jma-jsprotect").style.visibility="visible";
//-->
</script>

</div>

<div id="smallnotices">

This is the pre-release version of WWWMoa. <br>WWWMoa is powered by <a href="/go/python">Python</a>. Best viewed in <a href="/go/firefox">Firefox Web Browser</a>.

</div>

</body>

</html>
